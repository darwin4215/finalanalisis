(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){},20:function(e,a,t){e.exports=t(36)},26:function(e,a,t){},31:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t.n(r),o=(t(26),t(9)),s=t(3),i=(t(16),t(19));t(31);var m=()=>{const[e,a]=Object(n.useState)(""),[t,r]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[m,u]=Object(n.useState)(null),d=Object(s.o)();return l.a.createElement("div",{className:"login-page-unique"},l.a.createElement("div",{className:"left-section-unique"},l.a.createElement("h1",{className:"welcome-text-unique"},"Welcome Back To EXPA&D"),l.a.createElement("p",{className:"welcome-description-unique"},"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using."),l.a.createElement("div",{className:"social-icons-unique"},l.a.createElement("i",{className:"fab fa-facebook-f"}),l.a.createElement("i",{className:"fab fa-twitter"}),l.a.createElement("i",{className:"fab fa-instagram"}),l.a.createElement("i",{className:"fab fa-youtube"}))),l.a.createElement("div",{className:"right-section-unique"},l.a.createElement("h2",{className:"signin-title-unique"},"Sign in"),l.a.createElement("form",{className:"signin-form-unique",onSubmit:async a=>{if(a.preventDefault(),m)try{const a=await fetch("http://localhost:3001/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,captchaValue:m})}),l=await a.json();a.ok?(o(`Inicio de sesi\xf3n exitoso, bienvenido ${l.user.UserName}`),sessionStorage.setItem("userRole",l.user.role),sessionStorage.setItem("userId",l.user.ID),o(`Inicio de sesi\xf3n exitoso, bienvenido ${l.user.UserName}`),d("/homepage",{state:{role:l.user.role}})):o(l.message)}catch(n){o("Error en el servidor. Int\xe9ntalo m\xe1s tarde.")}else o("Por favor, completa el CAPTCHA")}},l.a.createElement("input",{className:"email-input-unique",type:"text",placeholder:"Usuario",value:e,onChange:e=>a(e.target.value)}),l.a.createElement("input",{className:"password-input-unique",type:"password",placeholder:"Contrase\xf1a",value:t,onChange:e=>r(e.target.value)}),l.a.createElement(i.a,{sitekey:"6LddtmIqAAAAAH2KhxkkK8VWJjojEspMhd7KEpa1",onChange:e=>{u(e)}}),l.a.createElement("button",{className:"signin-button-unique",type:"submit"},"Sign in now"),l.a.createElement("button",{className:"create-account-button-unique",type:"button"},"Create An Account")),c&&l.a.createElement("p",{className:"login-message"},c),l.a.createElement("a",{className:"lost-password-link-unique",href:"#"},"Lost your password?"),l.a.createElement("p",{className:"terms-unique"},'By clicking on "Sign in now" you agree to our ',l.a.createElement("a",{className:"terms-link-unique",href:"#"},"Terms of Service")," and ",l.a.createElement("a",{className:"privacy-link-unique",href:"#"},"Privacy Policy"),".")))};t(7);var u=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(""),[c,o]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"chatbox-toggle",onClick:()=>o(!c)},"\ud83d\udcac"),l.a.createElement("div",{className:`chatbox ${c?"open":"closed"}`},l.a.createElement("div",{className:"chatbox-header",onClick:()=>o(!c)},l.a.createElement("h4",null,"Chat"),l.a.createElement("button",null,c?"Close":"Open")),c&&l.a.createElement("div",{className:"chatbox-body"},l.a.createElement("div",{className:"messages"},e.map((e,a)=>l.a.createElement("div",{key:a,className:"message"},e.text))),l.a.createElement("div",{className:"chatbox-footer"},l.a.createElement("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Type a message..."}),l.a.createElement("button",{onClick:()=>{t.trim()&&(a([...e,{text:t,from:"user"}]),r(""))}},"Send")))))};var d=()=>{var e;const a=Object(s.m)(),t=Object(s.o)(),n=(null===(e=a.state)||void 0===e?void 0:e.role)||sessionStorage.getItem("userRole");return l.a.createElement("div",{className:"app"},l.a.createElement("header",{className:"app-header"},l.a.createElement("img",{src:"/logo.png",alt:"Logo",className:"logo"}),l.a.createElement("nav",{className:"navigation"},l.a.createElement("ul",{className:"nav-list"},l.a.createElement("li",{className:"nav-item-inicio"},"Inicio"),l.a.createElement("li",{className:"nav-item-soporte"},"Soporte"),l.a.createElement("li",{className:"nav-item-faq"},"Preguntas Frecuentes"))),l.a.createElement("div",{className:"language-selector"},l.a.createElement("select",{className:"language-select"},l.a.createElement("option",{value:"es"},"Espa\xf1ol"),l.a.createElement("option",{value:"en"},"English")))),l.a.createElement("main",{className:"main-content"},l.a.createElement("section",{className:"welcome-section"},l.a.createElement("h1",{className:"welcome-title"},"\xa1Bienvenido!"),l.a.createElement("p",{className:"welcome-text"},"Explora y domina: El ",l.a.createElement("span",{className:"highlight"},"arte")," de utilizar ",l.a.createElement("span",{className:"highlight"},"AXPA&D"),"."),l.a.createElement("p",{className:"welcome-subtext"},l.a.createElement("b",null,"Aprende, aplica y triunfa.")),l.a.createElement("button",{className:"start-button"},"\xa1COMENCEMOS!")),l.a.createElement("section",{className:"cards-section"},l.a.createElement("div",{className:"card card-reach",onClick:()=>t("/reportPage")},l.a.createElement("h3",null,"Crear Reporte")),l.a.createElement("div",{className:"card card-conversations",onClick:()=>t("/stillreport")},l.a.createElement("h3",null,"Seguimiento de Reporte")),"admin"===n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card card-conversations",onClick:()=>t("/bandreports")},l.a.createElement("h3",null,"Bandeja Reportes")),l.a.createElement("div",{className:"card card-conversations"},l.a.createElement("h3",null,"Mientras Tanto"))),"Tecnico"===n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card card-conversations",onClick:()=>t("/tasktech")},l.a.createElement("h3",null,"Mis Tareas"))))),l.a.createElement(u,null))},p=t(37);var E=()=>{const[e,a]=Object(n.useState)({usuarioId:"",numeroCuenta:"",tipoServicio:"Internet",descripcionProblema:"",tipoProblema:"",fechaIncidente:"",frecuencia:"",dispositivosAfectados:"",reinicioModem:"",pasosTomados:"",metodoContacto:"",horarioContacto:""});Object(n.useEffect)(()=>(document.body.classList.add("report-page-background"),()=>document.body.classList.remove("report-page-background")),[]),Object(n.useEffect)(()=>{const e=sessionStorage.getItem("userId");e&&a(a=>({...a,usuarioId:e}))},[]);const t=t=>{const{name:n,value:l}=t.target;a({...e,[n]:l})};return l.a.createElement("div",{className:"report-page"},l.a.createElement("h1",{className:"title"},"Reporte de Problemas de Servicio"),l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{const a=await p.a.post("http://localhost:3001/submitReport",e);console.log("Respuesta del servidor:",a.data),alert("Reporte enviado con \xe9xito")}catch(t){console.error("Error al enviar el formulario:",t),alert("Hubo un error al enviar el reporte")}},className:"report-form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"N\xfamero de Cuenta:"),l.a.createElement("input",{type:"text",name:"numeroCuenta",className:"form-input",value:e.numeroCuenta,onChange:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Tipo de Servicio:"),l.a.createElement("select",{name:"tipoServicio",className:"form-select",value:e.tipoServicio,onChange:t,required:!0},l.a.createElement("option",{value:"Internet"},"Internet"),l.a.createElement("option",{value:"TV"},"TV"),l.a.createElement("option",{value:"Tel\xe9fono"},"Tel\xe9fono"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Descripci\xf3n del Problema:"),l.a.createElement("textarea",{name:"descripcionProblema",className:"form-textarea",value:e.descripcionProblema,onChange:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Tipo de Problema:"),l.a.createElement("select",{name:"tipoProblema",className:"form-select",value:e.tipoProblema,onChange:t,required:!0},l.a.createElement("option",{value:""},"Seleccione"),l.a.createElement("option",{value:"Conexi\xf3n lenta"},"Conexi\xf3n lenta"),l.a.createElement("option",{value:"Corte total del servicio"},"Corte total del servicio"),l.a.createElement("option",{value:"Problemas con el router"},"Problemas con el router"),l.a.createElement("option",{value:"Facturaci\xf3n"},"Problemas de facturaci\xf3n"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Fecha y Hora del Incidente:"),l.a.createElement("input",{type:"datetime-local",name:"fechaIncidente",className:"form-input",value:e.fechaIncidente,onChange:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Frecuencia del Problema:"),l.a.createElement("select",{name:"frecuencia",className:"form-select",value:e.frecuencia,onChange:t,required:!0},l.a.createElement("option",{value:""},"Seleccione"),l.a.createElement("option",{value:"Constante"},"Constante"),l.a.createElement("option",{value:"Intermitente"},"Intermitente"),l.a.createElement("option",{value:"Ocurri\xf3 una vez"},"Ocurri\xf3 una vez"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Dispositivos Afectados:"),l.a.createElement("input",{type:"text",name:"dispositivosAfectados",className:"form-input",value:e.dispositivosAfectados,onChange:t,placeholder:"Ej: Laptop, M\xf3vil, Tablet"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"\xbfReinici\xf3 el modem o router?"),l.a.createElement("select",{name:"reinicioModem",className:"form-select",value:e.reinicioModem,onChange:t,required:!0},l.a.createElement("option",{value:""},"Seleccione"),l.a.createElement("option",{value:"S\xed"},"S\xed"),l.a.createElement("option",{value:"No"},"No"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"\xbfQu\xe9 pasos ha tomado para resolver el problema?"),l.a.createElement("textarea",{name:"pasosTomados",className:"form-textarea",value:e.pasosTomados,onChange:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Preferencia de Contacto:"),l.a.createElement("select",{name:"metodoContacto",className:"form-select",value:e.metodoContacto,onChange:t,required:!0},l.a.createElement("option",{value:""},"Seleccione"),l.a.createElement("option",{value:"Correo"},"Correo"),l.a.createElement("option",{value:"Tel\xe9fono"},"Tel\xe9fono"),l.a.createElement("option",{value:"Chat"},"Chat"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Mejor horario para contactarle:"),l.a.createElement("input",{type:"text",name:"horarioContacto",className:"form-input",value:e.horarioContacto,onChange:t,placeholder:"Ej: 9am - 12pm"})),l.a.createElement("button",{type:"submit",className:"submit-button"},"Enviar Reporte")))};var g=()=>{const[e,a]=Object(n.useState)([]);return Object(n.useEffect)(()=>(document.body.classList.add("still-report-background"),()=>document.body.classList.remove("still-report-background")),[]),Object(n.useEffect)(()=>{(async()=>{const e=sessionStorage.getItem("userId");if(e)try{const n=await p.a.get("http://localhost:3001/getReportes",{params:{userId:e}});a(n.data)}catch(t){console.error("Error al obtener los reportes:",t)}else console.error("userId no est\xe1 definido")})()},[]),l.a.createElement("div",null,l.a.createElement("h1",{className:"report-header"},"Mis Tickets"),l.a.createElement("div",{className:"report-container"},e.map(e=>l.a.createElement("div",{key:e.Id,className:"ticket-card"},l.a.createElement("div",{className:"ticket-header"},"Ticket #",e.Id),l.a.createElement("div",{className:"ticket-body"},l.a.createElement("div",{className:"ticket-info"},l.a.createElement("span",null,"Descripci\xf3n:")," ",e.DescripcionProblema),l.a.createElement("div",{className:"ticket-info"},l.a.createElement("span",null,"Tipo de Problema:")," ",e.TipoProblema),l.a.createElement("div",{className:"ticket-info"},l.a.createElement("span",null,"Fecha del Incidente:")," ",new Date(e.FechaIncidente).toLocaleString()),l.a.createElement("div",{className:"ticket-info"},l.a.createElement("span",null,"Frecuencia:")," ",e.Frecuencia),l.a.createElement("div",{className:"ticket-info"},l.a.createElement("span",null,"Fecha del Reporte:")," ",new Date(e.FechaReporte).toLocaleString()),l.a.createElement("div",{className:"ticket-info"},l.a.createElement("span",null,"Cliente:")," ",e.UserName)),l.a.createElement("div",{className:`ticket-status ${e.Status.toLowerCase()}`},e.Status)))))};var h=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(!0),[c,o]=Object(n.useState)(null),[s,i]=Object(n.useState)([]),[m,u]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:3001/getTicket");if(!e.ok)throw new Error("Error al obtener los reportes");const t=await e.json();a(t)}catch(c){o(c.message)}finally{r(!1)}})()},[]);const d=e=>{switch(e){case"Pendiente":return"status-pendiente";case"En Progreso":return"status-en-progreso";case"Solventado":return"status-solventado";default:return""}};return t?l.a.createElement("p",null,"Cargando reportes..."):c?l.a.createElement("p",null,"Error: ",c):l.a.createElement("div",null,l.a.createElement("h2",{className:"centered-title"},"Lista de Reportes"),l.a.createElement("ul",{className:"report-list"},e.map(e=>l.a.createElement("li",{key:e.Id,className:"report-item"},l.a.createElement("p",{className:"report-title"},"Ticket #",e.Id),l.a.createElement("select",{className:"report-select",value:e.Status,onChange:t=>(async(e,t)=>{try{const n=await fetch("http://localhost:3001/updateStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticketId:e,status:t})});if(!n.ok)throw new Error("Error al actualizar el estado");const l=await n.json();console.log(l.message),a(a=>a.map(a=>a.Id===e?{...a,Status:t}:a))}catch(c){console.error("Error al actualizar el estado:",c)}})(e.Id,t.target.value)},l.a.createElement("option",{value:"Pendiente"},"Pendiente"),l.a.createElement("option",{value:"En Progreso"},"Visto"),l.a.createElement("option",{value:"Solventado"},"Solventado")),l.a.createElement("p",null,l.a.createElement("strong",null,"Descripci\xf3n:")," ",e.DescripcionProblema),l.a.createElement("p",null,l.a.createElement("strong",null,"Tipo de Problema:")," ",e.TipoProblema),l.a.createElement("p",null,l.a.createElement("strong",null,"Fecha del Incidente:")," ",e.FechaIncidente),l.a.createElement("p",null,l.a.createElement("strong",null,"Frecuencia:")," ",e.Frecuencia),l.a.createElement("p",null,l.a.createElement("strong",null,"Cliente:")," ",e.UserName),l.a.createElement("p",{className:`report-status ${d(e.Status)}`},e.Status),l.a.createElement("button",{className:"assign-button",onClick:()=>(async e=>{try{const a=await fetch("http://localhost:3001/getTechnicians");if(!a.ok)throw new Error("Error al obtener t\xe9cnicos");const t=await a.json();i(t),u(e)}catch(c){console.error("Error al obtener t\xe9cnicos:",c)}})(e.Id)},"Asignar"),m===e.Id&&l.a.createElement("div",{className:"technician-list"},l.a.createElement("p",null,"Seleccionar T\xe9cnico:"),l.a.createElement("ul",null,s.map(a=>l.a.createElement("li",{key:a.ID,onClick:()=>(async(e,a)=>{try{localStorage.setItem("selectedTechnician",e);const t=await fetch("http://localhost:3001/assignTechnicianToTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technicianId:e,ticketId:a})});if(!t.ok)throw new Error("Error al asignar el t\xe9cnico");const n=await t.json();console.log(n.message),alert(`T\xe9cnico asignado exitosamente: ${n.message}`),u(null)}catch(c){console.error("Error al asignar el t\xe9cnico:",c)}})(a.ID,e.Id)},a.name))))))))};var v=()=>{const[e,a]=Object(n.useState)([]),t=sessionStorage.getItem("userId");return Object(n.useEffect)(()=>{t?(async()=>{try{const n=await p.a.get("http://localhost:3001/getTechnicalTasks",{params:{userId:t}});a(n.data)}catch(e){console.error("Error fetching tasks:",e)}})():console.error("No se encontr\xf3 un userId en sessionStorage")},[t]),l.a.createElement("div",{className:"task-container"},l.a.createElement("h2",{className:"task-header"},"Tareas T\xe9cnicas Asignadas"),e.length>0?e.map(e=>l.a.createElement("div",{key:e.ticket_id,className:"ticket-card"},l.a.createElement("h3",null,"Ticket #",e.ticket_id),l.a.createElement("p",null,l.a.createElement("strong",null,"Descripci\xf3n:")," ",e.DescripcionProblema),l.a.createElement("p",null,l.a.createElement("strong",null,"Tipo de problema:")," ",e.TipoProblema),l.a.createElement("p",null,l.a.createElement("strong",null,"Fecha del Incidente:")," ",e.FechaIncidente),l.a.createElement("p",null,l.a.createElement("strong",null,"Frecuencia:")," ",e.Frecuencia),l.a.createElement("p",{className:`ticket-status ${e.Status.toLowerCase().replace(" ","-")}`},e.Status),l.a.createElement("p",null,l.a.createElement("strong",null,"Fecha de Asignaci\xf3n:")," ",e.assigned_date))):l.a.createElement("p",null,"No hay tareas asignadas para este usuario."))};var b=function(){return l.a.createElement(o.a,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",element:l.a.createElement(m,null)}),l.a.createElement(s.a,{path:"/homepage",element:l.a.createElement(d,null)}),l.a.createElement(s.a,{path:"/reportPage",element:l.a.createElement(E,null)}),l.a.createElement(s.a,{path:"/stillReport",element:l.a.createElement(g,null)}),l.a.createElement(s.a,{path:"/bandReports",element:l.a.createElement(h,null)})," ",l.a.createElement(s.a,{path:"/tasktech",element:l.a.createElement(v,null)})))};var N=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,38)).then(a=>{let{getCLS:t,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=a;t(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null))),N()},7:function(e,a,t){}},[[20,1,2]]]);
//# sourceMappingURL=main.36a54aae.chunk.js.map